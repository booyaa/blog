<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

  <title>
    
      Unhandled Expression &middot; Geoffroy Couprie – software security and architecture consultant
    
  </title>

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-117988815-1', 'auto');
  ga('send', 'pageview');
  </script>



  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" />
  

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface" />

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicon.png" />
<link rel="shortcut icon" href="/favicon.ico" />

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml" />

  <!-- Additional head bits without overriding original head -->
</head>


  <body class="index">

    <div id="sidebar">
  <header>
    <img src="https://s.gravatar.com/avatar/ed9901b9b80743c05aedf58b4f4926dd?s=200" alt="self" />
    <h1 class="site-title">
      <a href="/">
        
          <span class="back-arrow icon"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 0h24v24H0z" fill="none"/>
  <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
</svg></span>
        
        Unhandled Expression
      </a>
    </h1>
    <p class="lead">Geoffroy Couprie – software security and architecture consultant</p>
  </header>
  <nav id="sidebar-nav-links">
  
    <a class="home-link "
        href="/">Home</a>
  
  

  

  


  
    
  

  
    
      <a class="page-link "
          href="/about.html">About</a>
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  


  


  
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/architecture.html">Architecture</a>
    
  

  
    
      <a class="category-link "
          href="/category/crypto.html">Crypto</a>
    
  

  
    
      <a class="category-link "
          href="/category/development.html">Development</a>
    
  

  
    
  

  

  
    
      <a class="category-link "
          href="/category/rust.html">Rust</a>
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/security.html">Security</a>
    
  

  
    
  

  
    
      <a class="category-link "
          href="/category/videolan.html">VideoLAN</a>
    
  

  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  

  
    
  


  <!-- Optional additional links to insert in sidebar nav -->
</nav>


  <nav id="sidebar-icon-links">
  

  <a id="subscribe-link"
     class="icon" title="Subscribe" aria-label="Subscribe"
     href="/feed.xml">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <circle cx="6.18" cy="17.82" r="2.18"/>
    <path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/>
</svg>
  </a>

  
  
  
  

  
    <a id="tags-link"
       class="icon"
       title="Tags" aria-label="Tags"
       href="/tags.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"/>
</svg>
    </a>
  

  
    <a id="search-link"
       class="icon"
       title="Search" aria-label="Search"
       href="/search.html">
      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
    </a>
  

  <!-- Optional additional links to insert for icons links -->
</nav>
  <a class="category-link active" href="https://www.patreon.com/geoffroy">Support my work on Patreon</a>
  <!--<p>
  &copy; 2018.
  <a href="/LICENSE.md">MIT License.</a>
</p>
-->
</div>


    <main class="container">
      <div class="content">
  
<div class="pagination">
  <a class="pagination-item newer"
     href="/page6">
    Newer
  </a>
</div>



  

  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/development/general/2012/12/07/testing-android-push-without-a-server.html">
        Testing Android push without a server
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">07 Dec 2012</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/development.html">
          Development
        </a>
      
    
      &bull;

      
      
      

      
        General
      
    
  </span>
</div>

    
      <p>Adding push support to an Android app is quite easy, but it can be cumbersome to test it if the server part is not ready yet.</p>
<p>For this, you only need your API key, and the registration ID for your device (you can get it from a call to <em>GCMRegistrar.getRegistrationId</em>). Also, you should have already called <em>GCMRegistrar.register</em> from your app, with your sender id.</p>
<p>Then, to send a push message to your application, use this code:</p>
<blockquote><p>import java.io.IOException;</p>
<p>import com.google.android.gcm.server.*;</p>
<p>public class Main {</p>
<p>/**<br />
* @param args<br />
*/<br />
public static void main(String[] args) {</p>
<p>String apiKey = "...";</p>
<p>String deviceId = "...";<br />
Sender sender = new Sender(apiKey);<br />
Message message = new Message.Builder().addData("data1", "hello").build();</p>
<p>try {<br />
Result result = sender.send(message, deviceId, 2);<br />
System.out.println("got result: "+result.toString());<br />
} catch (IOException e) {<br />
// TODO Auto-generated catch block<br />
e.printStackTrace();<br />
}<br />
}</p>
<p>}</p></blockquote>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/development/security/2012/11/14/warning-your-users-about-a-vulnerability.html">
        Warning your users about a vulnerability
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">14 Nov 2012</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/development.html">
          Development
        </a>
      
    
      &bull;

      
      
      

      
        <a href="/category/security.html">
          Security
        </a>
      
    
  </span>
</div>

    
      <p>Somebody just told you about a <a title="Sophos vs Tavis Ormandy" href="http://seclists.org/fulldisclosure/2012/Nov/31" target="_blank">vulnerability in your code</a>. Moreover, they published <a title="The most dangerous code in the world" href="https://crypto.stanford.edu/~dabo/pubs/abstracts/ssl-client-bugs.html" target="_blank">a paper</a> about it. Even worse, people have been <a title="CryptoCat was just totally broken yesterday" href="https://twitter.com/ioerror/status/266648847797854209" target="_blank">very vocal</a> about it.<br />
What can you do now? The usual (and natural) reaction is to downplay the vulnerability, and try to keep it confidential. After all, publishing a vuln will make your users unsafe, and it is bad publicity for your project, right?</p>
<p>WRONG!</p>
<p>The best course of action is to communicate a lot. Here's why:</p>
<h2>Communicate with the security researcher</h2>
<p>Yes, I know, we security people tend to be harsh, quickly flagging a vulnerable project as "broken", "dangerous for your customers" or even "<a title="My little pwnies" href="http://pwnies.com/winners/" target="_blank">EPIC FAIL</a>". That is, unfortunately, part of the folklore. But behind that, security researchers are often happy to help you fix the problem, so take advantage of that!</p>
<p>If you try to silence the researcher, you will not get any more bug reports, but your software will still be vulnerable. Worse, someone else will undoubtedly find the vulnerability, and may sell it to governments and/or criminals.</p>
<p>Vulnerabilities are inevitable, like bugs. Even if you're very careful, <a title="QMail vulnerabilities" href="http://www.cvedetails.com/vulnerability-list/vendor_id-86/product_id-143/Dan-Bernstein-Qmail.html" target="_blank">people will still find ways</a> to break your software. Be humble and accept them, they're one of the costs of writing software. The only thing that should be on your mind when you receive a security report is protecting your users. The rest is just ego and fear of failure.</p>
<p>So, be open, talk to security researchers, and make it easy for them to contact you (<strong>tips: create a page dedicated to security on your website, and provide a specific email for that</strong>).</p>
<h2>Damage control of a public vulnerability</h2>
<p>What do you do when you discover the weakness on the news/twitter/whatever?</p>
<p>Communicate. Now.</p>
<p>Contact the researchers, contact the journalists writing about it, the users whining about the issue, write on your blog, on twitter, on facebook, on IRC, and tell them this: "<strong>we know about the issue, we're looking into it, we're doing everything we can to fix it, and we'll update you as soon as it's fixed</strong>".</p>
<p>This will buy you a few hours or days to fix the issue. You can't say anything else, because you probably don't know enough about the problem to formulate the right opinion. <strong>What you should not say</strong>:</p>
<ul>
<li>"we've seen no report of this exploited in the wild", yet</li>
<li>"as far as we know, the bug is not exploitable", but soon it will be</li>
<li>"the issue happens on a test server, not in production" = "we assume that the researcher didn't also test on prod servers"</li>
<li>"no worries, there's a warning on our website telling that it's beta software". Beta means people are using it.</li>
</ul>
<p>Anything you could say in the few days you got might harm your project. Take it as an opportunity to cool your head, work on the vulnerability, test regressions, find other mitigations, and plan the new release.</p>
<p>Once it is done, publish the security report:</p>
<h2>Warning your users</h2>
<p>So, now, you fixed the vulnerability. You have to tell your users about it. As time passes, more and more people will learn about the issue, so they might as well get it from you.</p>
<p><strong>You should have a <a title="VideoLAN security information" href="http://www.videolan.org/security/" target="_blank">specific webpage for security issues</a></strong>. You may fear that criminals might use it to attack your software or website. Don't worry, they don't need it, they have other ways to know about software weaknesses. This webpage is for your users. It has multiple purposes:</p>
<ul>
<li>showing that you handle security issues</li>
<li>telling which versions someone should not use</li>
<li>explaining how to fix some vulnerabilities if people cannot update</li>
</ul>
<p>For each vulnerability, here is what you should display:</p>
<ul>
<li>the title (probably chosen by the researcher)</li>
<li>the security researcher's name</li>
<li>the <a title="Common Vulnerabilities and Exposures" href="http://cve.mitre.org/" target="_blank">CVE identifier</a></li>
<li>the chain of events:
<ul>
<li>day of report</li>
<li>dates of back and forth emails with the researcher</li>
<li>day of fix</li>
<li>day of release (for software)</li>
<li>day of deploy (for web apps)</li>
</ul>
</li>
<li><strong>the affected versions</strong> (for software, not web apps)</li>
<li>t<strong>he affected components</strong> (maybe the issue only concerns specific parts of a library)</li>
<li>how it can be exploited. You don't need to get into the details of the exploit.</li>
<li><strong>The target of the exploit.</strong> Be very exhaustive about the consequences. Does the attacker get access to my contacts list? Can he run code on my computer? etc.</li>
<li><strong>The mitigations</strong>. Telling to update to the latest version is not enough. Some users will not update right away, because they have their own constraints. Maybe they have a huge user base and can't update quickly. Maybe they rely on an old feature removed in the latest version. Maybe their users refuse to update because it could introduce regressions. What you should tell:
<ul>
<li>which version is safe (new versions with the fix, but also old versions if the issue was introduced recently)</li>
<li>if it's open source, which commit introduced the fix. That way, people managing their own internal versions of software can fix it quickly</li>
<li>how to fix the issue without updating (<a href="http://www.reddit.com/r/netsec/comments/13664q/skype_vulnerability_allowing_hijacking_of_any/c715m20" target="_blank">example for a recent Skype bug</a>). You can provide a quick fix, that will buy time for sysadmins and downstream developers to test, fix and deploy the new version.</li>
</ul>
</li>
</ul>
<p>Now that you have a good security report, contact again the security researchers, journalists and users, provide them with the report, and emphasize what users risked, and how they can fix it. You can now comment publicly about the issue, make a blog post, send emails to your users to tell them how much you worked to protect them. And don't forget the consecrated formule: "we take security very seriously and have taken measures to prevent this issue from happening ever again".</p>
<p><strong>Do you need help fixing your vulnerabilities? <a title="Geoffroy Couprie, freelance in software development and security" href="http://geoffroycouprie.com/" target="_blank">Feel free to contact me!</a></strong></p>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/development/general/security/2012/11/05/going-to-the-freelance-side.html">
        Going to the freelance side
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">05 Nov 2012</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        <a href="/category/development.html">
          Development
        </a>
      
    
      &bull;

      
      
      

      
        General
      
    
      &bull;

      
      
      

      
        <a href="/category/security.html">
          Security
        </a>
      
    
  </span>
</div>

    
      <p>From now on, I am an independent geek! After nearly 2 years at Login People, I am jumping out in the sea to work for myself.</p>
<p>I will do mainly web development (Rails, Node.JS) and software security (penetration testing, code reviews, protocol audit). Feel free to <a title="Geoffroy Couprie, freelance in software development and security" href="http://geoffroycouprie.com/" target="_blank">contact me</a> for missions, I will be happy to work with you!</p>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/general/security/2012/08/29/software-security-is-like-medicine.html">
        Software security is like medicine
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">29 Aug 2012</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        General
      
    
      &bull;

      
      
      

      
        <a href="/category/security.html">
          Security
        </a>
      
    
  </span>
</div>

    
      <p>People don't get software security. Between the legends around hackers, the scaremongering by salesmen and the technical level needed to practice it, you won't even try to understand. It is hard to get a high level view of how it works, and how you can protect yourself. But there's a nice little metaphore to understand security: it's like medicine!</p>
<p>Medicine is about taking care of your body, fighting off illness, healing injuries. The body is a big machine that can fail in a lot of ways, depending on a lot of parameters. It is the same for software security: you want to prevent and repair any disruption that could fail at any time. Security, like medicine, is a very technical domain, and takes a lot of time to learn. Even after learning, you still don't know everything, and you must keep up to date with recent research.</p>
<p>But basic body maintenance is easy. And protecting your software against basic attacks is easy too. You don't need to study for 11 years to prevent basic SQL injections. Most of the time, the diseases and bugs that will affect you are common, and you don't need Dr House to prevent them.</p>
<p>Bodies and software are problematic because they both decay through time, and are very sensitive to their environment. Change the environment, and you could catch something new. The world is full of germs and criminals. Is that a good reason to always stay at home? Obviously not. You must accept that you can get sick at any time. So, take steps to protect yourself. Wash your hands and sanitize your inputs. And beware of snake oil.</p>
<p>Feel free to extend on the metaphore in the comments, and use it to explain software security around you!</p>
<p>By the way, if you need someone to auscultate your applications, you can contact me at <a title="Geoffroy Couprie" href="http://geoffroycouprie.com/" target="_blank">geoffroycouprie.com</a>. <a href="http://geoffroycouprie.com/"><br />
</a></p>

    

    
      
      
      

      
    
  </article>
  
  <article class="post-body">
    <h2 class="post-title">
      <a href="/general/2012/08/23/hiring-gurus.html">
        Hiring gurus
      </a>
    </h2>
    <div class="post-meta">
  <span class="post-date">23 Aug 2012</span>
  <span class="post-categories">
    
      &bull;

      
      
      

      
        General
      
    
  </span>
</div>

    
      <p>I see a lot of posts on job boards asking for "gurus", ninjas" or whatever. That is ridiculous at best, dangerous at worst.</p>
<p>Ridiculous, because you won't find gurus on job boards. The real stars will not look for a job on these websites. They stay in companies that know their value and pay them well. Or they are directly contacted with offers tailored to them. They don't need job boards.</p>
<p>That is also dangerous, because you will gather good or average developers with a very high idea of themselves. They think of themselves as awesome developers, so why would they learn anything? For your teams, you need team players, humble people, able to recognize their errors, and able to learn. You don't need a lonesome cowboy.</p>
<p>Even worse, you will refuse future gurus because they're not good enough right now. Some developers have a lot of potential, and can bloom in the right environment. Think of it: a developer cheaper than others who will deliver more than others in a year! You will also refuse useful people: an bad developer with a knack for debugging, a bad developer with a lot of knowledge about low level problems, a bad developer who will boost your team's productivity, just because he's good with people...</p>
<p>These job posts reinforce the cargo cult of the awesome geek wrangling tons of awesome code without sleep and with a lot of coffee. Enough with that! We geeks are not produced in chain, with A, B, or C quality level. We are real people, with unique qualities or defects, and you will miss out on awesome people while you wait for your prince charming.</p>

    

    
      
      
      

      
    
  </article>
  

  
<div class="pagination">
  <a class="pagination-item older"
     href="/page8">
    Older
  </a>
</div>


</div>
    </main>

    <!-- Optional footer content -->

  </body>
</html>
